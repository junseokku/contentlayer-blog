---
title: "Node.js Package Manager 이해하기 (npm, yarm, yarn berry, pnpm)"
createdAt: 2024-06-23
author: junseokku
tags: [nodejs, javascript, package, manager, npm, yarn, pnpm]
categories: []
summary: "Node.js에서 사용하는 패키지를 이해한다. 자주 사용되는 패키지 매니저인 npm, yarn, pnpm, yarn berry를 가볍게 알아본다."
---
## 패키지 매니저란?
Node.js 애플리케이션을 개발하며 외부 패키지를 사용하지 않는 일은 거의 없습니다.
패키지를 대부분 사용할텐데, 이를 관리하는 패키지 매니저에 대해 알아보겠습니다.
(패키지 매니저는 소프트웨어 분야에서 통용적으로 사용하는 개념입니다. 이 포스팅에서는 Node.js 기준 패키지 매니저를 서술합니다.)
우선 패키지란 무엇일까요?
[npm docs](https://docs.npmjs.com/about-packages-and-modules)에 적힌 일부 내용입니다.

##### About packages
> 패키지는 `package.json`로 설명되는 파일 또는 디렉토리이다. 패키지는 npm registry에 배포를 위해 `package.json`을 포함해야 한다.

##### About modules
> 모듈은 `require()`함수에 의해 로드될 수 있는 `node_moudules`에 존재하는 파일 또는 폴더이다.

패키지는 설명할 수 있는 파일을 가져야 하고, 배포될 수 있다고 합니다. 
배포된다는 건 다른 사람들이 다운로드하여 사용할 수 있고, 모듈화된 재사용성 있는 코드라고 말할 수 있겠지요.
즉 패키지는 <i><b>모듈화된 코드를 배포하기 위한 단위</b></i>라고 해석할 수 있습니다. 

패키지는 패키지를 참조할 수 있습니다. 
이런 관계를 의존성이라고 합니다. 대규모 프로젝트에서는 의존성이 많이 필요하게 될텐데 효율적으로 관리하면 시간이 절약됩니다.
이를 관리하는 것이 패키지 매니저 주요 기능 중 하나입니다.
또 다른 주요 기능들을 간단히 살펴보겠습니다.
- metadata 작성 및 관리
- 의존성 추가/설치/업데이트/삭제
- 스크립트 실행
- 패키지 배포
- 보안 검사

## Node.js Package Manager 발전 과정
npm은 2010년 1월에 나온 최초의 Node.js 패키지 매니저입니다.
Node.js는 패키지 매니저로 npm을 기본적으로 사용합니다. 
pakcage.json, 의존성을 node_moudules에서 관리하는 것, 실행 스크립트 등등 이러한 개념들이 npm에 의해 탄생되었습니다. 
하지만 yarn이 공개되기 전, 과거 npm은 몇 가지 문제점을 가지고 있었습니다.

#### 의존성 설치 속도 저하
의존성이 복잡하고 많아지면 설치 속도가 저하되었습니다. 
의존성 해결 과정에서 시스템 리소스를 많이 잡아먹었고, 병렬이 아닌 직렬 처리 방식으로 설치 시간이 소모되었습니다.
또한 다른 패키지 간에 동일한 의존성이 존재할 경우, 여러 번 설치되는 문제도 있었습니다.

#### 비결정적인 버전
같은 package.json 파일을 사용하더라도, 시스템에 따라 다른 의존성 버전이 설치될 수 있었습니다.
npm이 버전 범위를 처리하는 방식과 일관된 설치를 lock하는 패커니즘이 부족했기 때문입니다.
(npm의 버전 처리 방식은 [Semantic Versioning](https://semver.org/)를 사용합니다.)

#### 보안 문제
npm은 패키지 무결성을 검증하는 마땅한 메커니즘이 없었고, 변조되거나 악의적인 패키지가 감지되지 않고 설치될 수 있었습니다.


이런 문제점을 해결하기 위해 다른 패키지 매니저인 yarn이 등장했습니다.






## 섹션 2

## 결론

## 참고 자료
- https://yceffort.kr/2022/05/npm-vs-yarn-vs-pnpm
- https://toss.tech/article/node-modules-and-yarn-berry
- https://engineering.fb.com/2016/10/11/web/yarn-a-new-package-manager-for-javascript/